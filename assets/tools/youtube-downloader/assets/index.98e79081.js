var E=Object.defineProperty;var y=(e,t,n)=>t in e?E(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var d=(e,t,n)=>(y(e,typeof t!="symbol"?t+"":t,n),n),L=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var m=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)};var p=(e,t,n)=>(L(e,t,"access private method"),n);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerpolicy&&(i.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?i.credentials="include":o.crossorigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();const O=["animate","animateMotion","animateTransform","circle","clipPath","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","foreignObject","g","image","line","linearGradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","title","tspan","use","view"];function F(e){return e==="fragment"?document.createDocumentFragment():O.includes(e)?document.createElementNS("http://www.w3.org/2000/svg",e):document.createElement(e)}function c(e,t,...n){const r=F(e),o={...t};return n.forEach(i=>{if(!!i){if(typeof i=="string"){r.appendChild(document.createTextNode(i));return}r.appendChild(i)}}),r instanceof DocumentFragment||Object.entries(o).forEach(([i,s])=>{if(!(typeof s>"u"||s===null)){if(i==="events"){Object.entries(s).forEach(([a,f])=>{if(Array.isArray(f)){const b=f;r.addEventListener(a,...b);return}const h=f;r.addEventListener(a,h)});return}if(i==="dataset"){Object.entries(s).forEach(([a,f])=>{!f||(r.dataset[a]=f)});return}if(i==="style"){Object.entries(s).forEach(([a,f])=>{if(a in r.style){r.style[a]=f;return}r.style.setProperty(a,f)});return}if(i==="class"){r.classList.add(...s.split(" "));return}if(r instanceof SVGElement){if(i==="className"){r.classList.add(...s.split(" "));return}r.setAttribute(i,s);return}if(i in r){try{r[i]=s}catch{r.setAttribute(i,s)}return}r.setAttribute(i,s)}}),r}function I(e){Object.getOwnPropertyNames(Object.getPrototypeOf(e)).filter(t=>t!=="constructor"&&e[t]instanceof Function).forEach(t=>{const n=e[t];n instanceof Function&&(e[t]=n.bind(e))})}var l,g;class S extends EventTarget{constructor(){super();m(this,l);d(this,"id");this.id="",I(this)}setId(n){this.id=n,p(this,l,g).call(this)}}l=new WeakSet,g=function(){this.dispatchEvent(new CustomEvent("update"))};const u=new S,v=["hq720","sddefault","hqdefault","mqdefault","default"],w=[[1280,720],[640,480],[480,360],[320,180],[120,90]];function M(e){const t=/youtu\.?be(\.com)?\/(shorts\/|watch\?v=|embed\/)?([^&?\s]+)/,n=e.match(t);return n?n[3]:""}function _(e){return v.map(t=>`https://i.ytimg.com/vi/${e}/${t}.jpg`)}function A(){const{setId:e}=u;return c("form",{className:"form",events:{submit(t){t.preventDefault();const{target:n}=t;if(!(n instanceof HTMLFormElement))return;const r=new FormData(n).get("uri");!r||(console.log(r),e(M(r.toString())))}}},c("input",{type:"text",className:"form__input",name:"uri",placeholder:"URI of Youtube video"}),c("button",{type:"submit",className:"form__submit"},"Export"))}function D(){const e=c("div",{className:"result__thumbnail"});return u.addEventListener("update",()=>{const t=_(u.id);e.innerHTML="",e.append(c("fragment",{},...t.map((n,r)=>c("figure",{},c("img",{src:n}),c("figcaption",{},`${w[r].join(" * ")}`)))))}),e}function N(){const e=c("div",{className:"result",style:{display:"none"}},c("div",{className:"result__title"},"Thumbnails"),D());return u.addEventListener("update",()=>{e.removeAttribute("style")},{once:!0}),e}document.getElementById("app").append(A(),N());
